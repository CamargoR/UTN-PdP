Object subclass: #Equipo	instanceVariableNames: 'miembrosDelEquipo puntos'	classVariableNames: ''	poolDictionaries: ''	category: 'Quidditch'!!Equipo commentStamp: '<historical>' prior: 0!!!Equipo methodsFor: 'as yet unclassified' stamp: 'Ronan 11/16/2014 18:09'!agregarPrimerIntegrante:primerCazador segundoIntegrante:primerGolpeador tercerIntegrante:segundoCazador cuartoIntegrante:segundoGolpeador quintoIntegrante:tercerCazador sextoIntegrante:unGuardian septimoIntegrante:unBuscador.miembrosDelEquipo add:primerCazador.miembrosDelEquipo add:primerGolpeador.miembrosDelEquipo add:segundoCazador.miembrosDelEquipo add:segundoGolpeador.miembrosDelEquipo add:tercerCazador.miembrosDelEquipo add:unGuardian.miembrosDelEquipo add:unBuscador.! !!Equipo methodsFor: 'as yet unclassified' stamp: 'Ronan 11/10/2014 01:08'!ganaPuntos:unaCantidad	puntos:= puntos + unaCantidad.! !!Equipo methodsFor: 'as yet unclassified' stamp: 'Ronan 11/17/2014 19:06'!blancosUtiles	^miembrosDelEquipo select:[:unMiembro | unMiembro esBlancoUtil].! !!Equipo methodsFor: 'as yet unclassified' stamp: 'Ronan 11/17/2014 13:01'!jugadorQueBloqueaA:unCazador	^miembrosDelEquipo detect:[:unMiembro | unMiembro puedeBloquearElTiroDe:unCazador] ifNone:[nil].! !!Equipo methodsFor: 'as yet unclassified' stamp: 'Ronan 11/17/2014 16:30'!algunoTieneLaQuaffle	^miembrosDelEquipo anySatisfy: [:unMiembro | unMiembro tieneLaQuaffle].! !!Equipo methodsFor: 'as yet unclassified' stamp: 'Ronan 11/16/2014 20:11'!initialize	miembrosDelEquipo := OrderedCollection new.	puntos:=0.! !!Equipo methodsFor: 'as yet unclassified' stamp: 'Ronan 11/17/2014 16:00'!losQuePuedenObtenerLaQuaffle	^miembrosDelEquipo select:[:unMiembro | unMiembro puedeObtenerLaQuaffle].! !!Equipo methodsFor: 'as yet unclassified' stamp: 'Ronan 11/17/2014 19:22'!jugaUnPartidoContra:unEquipoRival	miembrosDelEquipo do:[:unMiembro | unMiembro jugaContra:unEquipoRival].! !!Equipo methodsFor: 'as yet unclassified' stamp: 'Ronan 11/16/2014 18:37'!promedioDelEquipo	^(miembrosDelEquipo sum:[:unMiembro | unMiembro habilidad]) / miembrosDelEquipo size.! !!Equipo methodsFor: 'as yet unclassified' stamp: 'Ronan 11/17/2014 19:05'!blancoUtilMasHabilidoso	^(self blancosUtiles) detectMax:[:unBlancoUtil | unBlancoUtil habilidad].! !!Equipo methodsFor: 'as yet unclassified' stamp: 'Ronan 11/16/2014 18:47'!tieneJugadorEstrellaContra:otroEquipo	^miembrosDelEquipo anySatisfy:[:unMiembro | unMiembro esJugadorEstrellaContra: otroEquipo].! !!Equipo methodsFor: 'as yet unclassified' stamp: 'Ronan 11/17/2014 16:00'!elJugadorMasRapidoDelEquipoQuePuedeObtenerLaQuaffle	^(self losQuePuedenObtenerLaQuaffle) detectMax:[:unCazador | unCazador velocidad].! !!Equipo methodsFor: 'getters' stamp: 'Ronan 11/16/2014 18:49'!miembrosDelEquipo	^miembrosDelEquipo.! !!Equipo methodsFor: 'getters' stamp: 'Ronan 11/16/2014 21:25'!puntos	^puntos.! !Object subclass: #Jugador	instanceVariableNames: 'peso skills escobaQueUsa equipoAlQuePertenece fuerza nivelDeReflejos'	classVariableNames: ''	poolDictionaries: ''	category: 'Quidditch'!!Jugador commentStamp: '<historical>' prior: 0!!!Jugador methodsFor: '4c' stamp: 'Ronan 11/17/2014 13:43'!serGolpeadoPorUnaBludger	self modificarSkills:(-2).	escobaQueUsa recibirDanio.		! !!Jugador methodsFor: '4c' stamp: 'Ronan 11/17/2014 16:54'!serGolpeadoPorUnaBludgerDe:unEquipo	self modificarSkills:(-2).	escobaQueUsa recibirDanio.		! !!Jugador methodsFor: '1' stamp: 'Ronan 11/18/2014 22:55'!habilidad	^self velocidad + skills.! !!Jugador methodsFor: '1' stamp: 'Ronan 11/16/2014 18:12'!nivelDeManejoDeEscoba	^(skills/peso) asFloat.! !!Jugador methodsFor: '1' stamp: 'Ronan 11/16/2014 18:13'!velocidad	^(escobaQueUsa velocidad * self nivelDeManejoDeEscoba) asFloat.! !!Jugador methodsFor: '2' stamp: 'Ronan 11/17/2014 19:25'!esMasRapidoQue:otroJugador	^self velocidad > otroJugador velocidad.! !!Jugador methodsFor: '2' stamp: 'Ronan 11/16/2014 18:31'!lePasaElTrapoA:otroJugador	^self habilidad >= (2*otroJugador habilidad).! !!Jugador methodsFor: '2' stamp: 'Ronan 11/16/2014 18:41'!esGroso	^(self habilidad > equipoAlQuePertenece promedioDelEquipo) & (self velocidad >= Escoba mercadoActual).! !!Jugador methodsFor: '2' stamp: 'Ronan 11/16/2014 18:52'!esJugadorEstrellaContra:unEquipo	^(unEquipo miembrosDelEquipo) allSatisfy: [ :unMiembro | self lePasaElTrapoA:unMiembro].! !!Jugador methodsFor: 'as yet unclassified' stamp: 'Ronan 11/10/2014 01:05'!modificarSkills:unValor	skills:= skills + unValor.! !!Jugador methodsFor: 'as yet unclassified' stamp: 'Ronan 11/16/2014 17:47'!initializeSkills:susSkills peso:suPeso reflejos:suNivelDeReflejos fuerza:suFuerza escoba:suEscoba equipo:suEquipo	skills:=susSkills.	peso:=suPeso.	nivelDeReflejos:=suNivelDeReflejos.	fuerza:=suFuerza.	escobaQueUsa :=suEscoba.	equipoAlQuePertenece := suEquipo.! !!Jugador methodsFor: 'as yet unclassified' stamp: 'Ronan 11/17/2014 15:42'!puedeObtenerLaQuaffle	^false.! !!Jugador methodsFor: 'as yet unclassified' stamp: 'Ronan 11/17/2014 16:31'!tieneLaQuaffle	^false.! !!Jugador methodsFor: 'getters' stamp: 'Ronan 10/31/2014 14:20'!fuerza	^fuerza.! !!Jugador methodsFor: 'getters' stamp: 'Ronan 10/31/2014 14:20'!nivelDeReflejos	^nivelDeReflejos.! !!Jugador methodsFor: 'getters' stamp: 'Ronan 11/16/2014 21:38'!skills	^skills.! !!Jugador methodsFor: 'getters' stamp: 'Ronan 11/16/2014 18:13'!escobaQueUsa	^escobaQueUsa.! !Jugador subclass: #Cazador	instanceVariableNames: 'punteria tieneLaQuaffle'	classVariableNames: ''	poolDictionaries: ''	category: 'Quidditch'!!Cazador commentStamp: '<historical>' prior: 0!!!Cazador methodsFor: 'getters' stamp: 'Ronan 11/17/2014 13:35'!tieneLaQuaffle	^tieneLaQuaffle.! !!Cazador methodsFor: '3' stamp: 'Ronan 11/18/2014 22:57'!jugaContra:unEquipoRival	tieneLaQuaffle 	ifTrue: [self intentarMeterGolA:unEquipoRival ].		! !!Cazador methodsFor: '3' stamp: 'Ronan 11/17/2014 15:52'!meterGol	equipoAlQuePertenece ganaPuntos:10.	self modificarSkills:5.		! !!Cazador methodsFor: '3' stamp: 'Ronan 11/17/2014 16:51'!pierdeLaQuaffleContra:unEquipoRival	self perderQuaffle.	(unEquipoRival elJugadorMasRapidoDelEquipoQuePuedeObtenerLaQuaffle) obtuvoLaQuaffle.	! !!Cazador methodsFor: '3' stamp: 'Ronan 11/18/2014 22:57'!intentarMeterGolA:unEquipoRival	|bloqueador|		bloqueador:=unEquipoRival jugadorQueBloqueaA: self.		bloqueador isNil	ifTrue:[self meterGol]	ifFalse:[self esBloqueadoPor:bloqueador].		self pierdeLaQuaffleContra: unEquipoRival.				! !!Cazador methodsFor: '3' stamp: 'Ronan 11/17/2014 15:56'!puedeObtenerLaQuaffle	^true.! !!Cazador methodsFor: '3' stamp: 'Ronan 11/17/2014 15:54'!esBloqueadoPor:unBloqueador	unBloqueador modificarSkills:10.	self modificarSkills: (-2).	! !!Cazador methodsFor: 'as yet unclassified' stamp: 'Ronan 11/17/2014 15:26'!perderQuaffle	tieneLaQuaffle:=false.! !!Cazador methodsFor: 'as yet unclassified' stamp: 'Ronan 10/31/2014 14:27'!puedeBloquearElTiroDe:unCazador	^(self lePasaElTrapoA: unCazador) & (self nivelDeReflejos > unCazador nivelDeReflejos).	! !!Cazador methodsFor: 'as yet unclassified' stamp: 'Ronan 11/17/2014 16:21'!initialize	tieneLaQuaffle:=false.	! !!Cazador methodsFor: 'as yet unclassified' stamp: 'Ronan 11/16/2014 17:53'!suPunteriaEs:unValor	punteria:=unValor.! !!Cazador methodsFor: 'as yet unclassified' stamp: 'Ronan 11/17/2014 17:08'!obtuvoLaQuaffle	tieneLaQuaffle:=true.! !!Cazador methodsFor: 'as yet unclassified' stamp: 'Ronan 11/18/2014 22:55'!habilidad	^punteria * fuerza + super habilidad.! !!Cazador methodsFor: '4b' stamp: 'Ronan 11/17/2014 13:26'!esBlancoUtil	^tieneLaQuaffle.! !!Cazador methodsFor: '4c' stamp: 'Ronan 11/17/2014 13:46'!serGolpeadoPorUnaBludger	super serGolpeadoPorUnaBludger.	tieneLaQuaffle	ifTrue:[self perderQuaffle].! !!Cazador methodsFor: '4c' stamp: 'Ronan 11/17/2014 16:55'!serGolpeadoPorUnaBludgerDe:unEquipo	super serGolpeadoPorUnaBludgerDe:unEquipo.	tieneLaQuaffle	ifTrue:[self pierdeLaQuaffleContra: unEquipo].! !Jugador subclass: #Buscador	instanceVariableNames: 'nivelDeVision distanciaALaSnitch turnosBuscandoLaSnitch encontroLaSnitch'	classVariableNames: ''	poolDictionaries: ''	category: 'Quidditch'!!Buscador commentStamp: '<historical>' prior: 0!!!Buscador methodsFor: '4a' stamp: 'Ronan 10/31/2014 14:28'!puedeBloquearElTiroDe:unCazador	^false.! !!Buscador methodsFor: '1c' stamp: 'Ronan 11/18/2014 22:55'!habilidad	^nivelDeReflejos * nivelDeVision + super habilidad.! !!Buscador methodsFor: '4b' stamp: 'Ronan 11/17/2014 13:32'!esBlancoUtil	^encontroLaSnitch and:[distanciaALaSnitch <1000].! !!Buscador methodsFor: '4c' stamp: 'Ronan 11/17/2014 16:40'!serGolpeadoPorUnaBludger	super serGolpeadoPorUnaBludger.	self reiniciaBusqueda.! !!Buscador methodsFor: '4c' stamp: 'Ronan 11/17/2014 15:30'!reiniciaBusqueda	distanciaALaSnitch :=5000.	encontroLaSnitch :=false.	turnosBuscandoLaSnitch:=0.! !!Buscador methodsFor: '4c' stamp: 'Ronan 11/17/2014 16:55'!serGolpeadoPorUnaBludgerDe:unEquipo	super serGolpeadoPorUnaBludgerDe:unEquipo.	self reiniciaBusqueda.! !!Buscador methodsFor: 'as yet unclassified' stamp: 'Ronan 11/17/2014 16:10'!turnosBuscandoLaSnitch:unValor	turnosBuscandoLaSnitch:=unValor.! !!Buscador methodsFor: 'as yet unclassified' stamp: 'Ronan 11/17/2014 18:35'!encontroLaSnitch:unValor	encontroLaSnitch:=unValor.	! !!Buscador methodsFor: 'as yet unclassified' stamp: 'Ronan 11/17/2014 16:09'!distanciaALaSnitch:unValor	distanciaALaSnitch:=unValor.! !!Buscador methodsFor: '3' stamp: 'Ronan 11/17/2014 18:19'!perseguirSnitch	distanciaALaSnitch := (distanciaALaSnitch - (2 * self velocidad)) max:0.		! !!Buscador methodsFor: '3' stamp: 'Ronan 11/17/2014 18:20'!encontroLaSnitch	^encontroLaSnitch.	! !!Buscador methodsFor: '3' stamp: 'Ronan 11/17/2014 18:15'!jugaContra:unEquipoRival	encontroLaSnitch	ifTrue:[self perseguirSnitch]	ifFalse:[self buscarSnitch].			self atrapoLaSnitch	ifTrue:[self modificarSkills:30. equipoAlQuePertenece ganaPuntos:150.].! !!Buscador methodsFor: '3' stamp: 'Ronan 11/17/2014 18:21'!distanciaALaSnitch	^distanciaALaSnitch.! !!Buscador methodsFor: '3' stamp: 'Ronan 11/17/2014 18:16'!atrapoLaSnitch	^distanciaALaSnitch = 0.! !!Buscador methodsFor: '3' stamp: 'Ronan 11/17/2014 18:09'!buscarSnitch	|numeroAleatorio|	numeroAleatorio := RandomTesteable entre:1 y:1000.		encontroLaSnitch := numeroAleatorio < (self habilidad + turnosBuscandoLaSnitch).		turnosBuscandoLaSnitch := turnosBuscandoLaSnitch + 1.	! !!Buscador methodsFor: '3' stamp: 'Ronan 11/17/2014 18:29'!turnosBuscandoLaSnitch	^turnosBuscandoLaSnitch.! !!Buscador methodsFor: 'varios' stamp: 'Ronan 11/16/2014 17:53'!suVisionEs:unValor	nivelDeVision:=unValor.! !!Buscador methodsFor: 'varios' stamp: 'Ronan 11/17/2014 16:45'!cantidadDeTurnosBuscandoLaSnitch	^turnosBuscandoLaSnitch.! !!Buscador methodsFor: 'varios' stamp: 'Ronan 11/17/2014 16:17'!initialize	distanciaALaSnitch :=5000.	turnosBuscandoLaSnitch:=0.	encontroLaSnitch :=false.	! !Object subclass: #RandomTesteable	instanceVariableNames: ''	classVariableNames: 'Random'	poolDictionaries: ''	category: 'Quidditch'!!RandomTesteable commentStamp: '<historical>' prior: 0!!"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!RandomTesteable class	instanceVariableNames: ''!!RandomTesteable class commentStamp: '<historical>' prior: 0!!!RandomTesteable class methodsFor: 'as yet unclassified' stamp: 'MarianaMatos 9/23/2014 11:11'!random: random	Random := random! !!RandomTesteable class methodsFor: 'as yet unclassified' stamp: 'MarianaMatos 9/23/2014 11:15'!entre: unInt y: otroInt	^ Random entre: unInt  y: otroInt ! !Object subclass: #Escoba	instanceVariableNames: ''	classVariableNames: 'MercadoActual'	poolDictionaries: ''	category: 'Quidditch'!!Escoba commentStamp: '<historical>' prior: 0!!!Escoba methodsFor: 'as yet unclassified' stamp: 'Ronan 10/31/2014 13:49'!velocidad	^0.! !!Escoba methodsFor: 'as yet unclassified' stamp: 'Ronan 11/17/2014 13:42'!recibirDanio! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Escoba class	instanceVariableNames: ''!!Escoba class commentStamp: '<historical>' prior: 0!!!Escoba class methodsFor: 'as yet unclassified' stamp: 'Ronan 10/31/2014 13:59'!mercadoActual	^MercadoActual.! !!Escoba class methodsFor: 'as yet unclassified' stamp: 'Ronan 10/31/2014 13:59'!actualizarMercado:unValor	^MercadoActual:=unValor.! !Jugador subclass: #Golpeador	instanceVariableNames: 'punteria'	classVariableNames: ''	poolDictionaries: ''	category: 'Quidditch'!!Golpeador commentStamp: '<historical>' prior: 0!!!Golpeador methodsFor: 'as yet unclassified' stamp: 'Ronan 11/18/2014 22:56'!habilidad	^punteria + fuerza + super habilidad.! !!Golpeador methodsFor: 'as yet unclassified' stamp: 'Ronan 11/16/2014 17:53'!suPunteriaEs:unValor	punteria:=unValor.! !!Golpeador methodsFor: '4b' stamp: 'Ronan 11/17/2014 13:37'!esBlancoUtil	^false.! !!Golpeador methodsFor: '3' stamp: 'Ronan 11/17/2014 19:07'!puedeGolpearA:unBlancoUtil	^(RandomTesteable entre:1 y:(unBlancoUtil nivelDeReflejos)) < punteria.	! !!Golpeador methodsFor: '3' stamp: 'Ronan 11/17/2014 19:19'!jugaContra:unEquipoRival	|blancoUtil|	blancoUtil:=unEquipoRival blancoUtilMasHabilidoso.		(self puedeGolpearA:blancoUtil)	ifTrue:[blancoUtil serGolpeadoPorUnaBludgerDe: equipoAlQuePertenece. self modificarSkills:5.].	! !!Golpeador methodsFor: '4a' stamp: 'Ronan 11/17/2014 13:22'!puedeBloquearElTiroDe:unCazador	^(self esGroso) and: [self velocidad > unCazador velocidad].! !Jugador subclass: #Guardian	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'Quidditch'!!Guardian commentStamp: '<historical>' prior: 0!!!Guardian methodsFor: '4b' stamp: 'Ronan 11/17/2014 13:36'!esBlancoUtil	^(equipoAlQuePertenece algunoTieneLaQuaffle) not.! !!Guardian methodsFor: '3' stamp: 'Ronan 11/17/2014 18:41'!jugaContra:unEquipoRival! !!Guardian methodsFor: 'as yet unclassified' stamp: 'Ronan 11/17/2014 17:58'!puedeBloquearElTiroDe:unCazador		^self cubreElAroCorrecto.	! !!Guardian methodsFor: 'as yet unclassified' stamp: 'Ronan 11/18/2014 22:56'!habilidad	^nivelDeReflejos + fuerza + super habilidad. ! !!Guardian methodsFor: 'as yet unclassified' stamp: 'Ronan 11/17/2014 17:57'!cubreElAroCorrecto	^(RandomTesteable entre:1 y:3) = 3.! !!Guardian methodsFor: 'as yet unclassified' stamp: 'Ronan 11/10/2014 01:21'!jugaUnTurnoContra:unEquipo! !Escoba subclass: #Nimbus	instanceVariableNames: 'anioDeFabricacion salud'	classVariableNames: ''	poolDictionaries: ''	category: 'Quidditch'!!Nimbus commentStamp: '<historical>' prior: 0!!!Nimbus methodsFor: 'as yet unclassified' stamp: 'Ronan 11/17/2014 17:16'!salud	^salud.! !!Nimbus methodsFor: 'as yet unclassified' stamp: 'Ronan 11/16/2014 17:44'!initializeAnioDeFabricacion:unAnio ySalud:porcentajeDeSalud	anioDeFabricacion:=unAnio.	salud:=porcentajeDeSalud.! !!Nimbus methodsFor: 'as yet unclassified' stamp: 'Ronan 11/16/2014 18:18'!aniosDeVida	^Date today year - anioDeFabricacion.! !!Nimbus methodsFor: 'as yet unclassified' stamp: 'Ronan 10/31/2014 13:52'!velocidad	^(80 - self aniosDeVida) * salud / 100.! !!Nimbus methodsFor: 'as yet unclassified' stamp: 'Ronan 11/17/2014 13:40'!recibirDanio	salud:=salud - (salud *0.1).! !Escoba subclass: #SaetaDeFuego	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'Quidditch'!!SaetaDeFuego commentStamp: '<historical>' prior: 0!!!SaetaDeFuego methodsFor: 'as yet unclassified' stamp: 'Ronan 10/31/2014 13:53'!velocidad	^100.! !Object subclass: #RandomInt	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'Quidditch'!!RandomInt commentStamp: '<historical>' prior: 0!Implementación de random para usar con RandomTesteable.Esta implementación realmente genera números aleatorios, no requiere configuración extra.!!RandomInt methodsFor: 'as yet unclassified' stamp: 'MarianaMatos 9/23/2014 10:30'!entre: unInt y: otroInt	^ (unInt to: otroInt) atRandom! !